# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool: "Machine Learning"

# Build Model
stages:
- stage: buildmodel
  jobs:
  - job: 'BuildModel'
    pool: "Machine Learning"
    steps:    
    - script: ./train.sh
      displayName: 'Train Machine Model'
    - task: PublishPipelineArtifact@1
      displayName: "Publish Model"
      inputs:
        path: $(System.DefaultWorkingDirectory)/model.h5
        artifact: model
